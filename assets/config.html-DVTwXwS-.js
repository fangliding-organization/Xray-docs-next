import{_ as c,r as e,o as i,c as l,a as s,b as n,d as a,w as o,e as u}from"./app-D-aWyVF7.js";const r={},d=s("h1",{id:"настроика-и-запуск",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#настроика-и-запуск"},[s("span",null,"Настройка и запуск")])],-1),k=s("p",null,[n("После того, как вы "),s("a",{href:"./install"},"скачали и установили"),n(" Xray, вам потребуется его настроить.")],-1),v={href:"https://github.com/XTLS/Xray-examples",target:"_blank",rel:"noopener noreferrer"},m=u(`<div class="custom-container danger"><p class="custom-container-title">Предупреждение</p><p>Во избежание расшифровки вашего трафика <br> следует сгенерировать уникальный UUID с помощью команды <code>xray uuid</code> или <code>uuidgen</code>, <br> который затем нужно вставить на стороне сервера в поле <code>inbounds[0].settings.clients[0].id</code>, <br> а на стороне клиента - в поле <code>outbounds[0].settings.vnext[0].users[0].id</code>. <br></p></div><h2 id="настроика-сервера" tabindex="-1"><a class="header-anchor" href="#настроика-сервера"><span>Настройка сервера</span></a></h2><p>Вам понадобится сервер с публичным IP-адресом (не за NAT), на котором будет запущен Xray. Конфигурация сервера:</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;inbounds&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;port&quot;</span><span class="token operator">:</span> <span class="token number">10086</span><span class="token punctuation">,</span> <span class="token comment">// Порт, который слушает сервер</span>
      <span class="token property">&quot;protocol&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vmess&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;settings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;clients&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;b831381d-6324-4d53-ad4f-8cda48b30811&quot;</span>  <span class="token comment">// Не забудьте заменить это поле, сгенерировав UUID с помощью \`xray uuid\` или \`uuidgen\`</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;outbounds&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;protocol&quot;</span><span class="token operator">:</span> <span class="token string">&quot;freedom&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Убедитесь, что <code>id</code> и порт в конфигурации сервера совпадают с настройками клиента, чтобы подключение работало correctamente.</p><h2 id="настроика-клиента" tabindex="-1"><a class="header-anchor" href="#настроика-клиента"><span>Настройка клиента</span></a></h2><p>На вашем компьютере (или телефоне) необходимо запустить Xray со следующей конфигурацией:</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;inbounds&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;port&quot;</span><span class="token operator">:</span> <span class="token number">1080</span><span class="token punctuation">,</span> <span class="token comment">// Порт SOCKS-прокси, на него нужно будет направлять трафик в браузере</span>
      <span class="token property">&quot;listen&quot;</span><span class="token operator">:</span> <span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;protocol&quot;</span><span class="token operator">:</span> <span class="token string">&quot;socks&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;settings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;udp&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;outbounds&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;protocol&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vmess&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;settings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;vnext&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token property">&quot;address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;server&quot;</span><span class="token punctuation">,</span> <span class="token comment">// Адрес сервера, замените его на IP-адрес или доменное имя вашего сервера</span>
            <span class="token property">&quot;port&quot;</span><span class="token operator">:</span> <span class="token number">10086</span><span class="token punctuation">,</span> <span class="token comment">// Порт сервера</span>
            <span class="token property">&quot;users&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token punctuation">{</span>
                <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;b831381d-6324-4d53-ad4f-8cda48b30811&quot;</span>  <span class="token comment">// Не забудьте заменить это поле, сгенерировав UUID с помощью \`xray uuid\` или \`uuidgen\`</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;protocol&quot;</span><span class="token operator">:</span> <span class="token string">&quot;freedom&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;tag&quot;</span><span class="token operator">:</span> <span class="token string">&quot;direct&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;routing&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;domainStrategy&quot;</span><span class="token operator">:</span> <span class="token string">&quot;IPOnDemand&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rules&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;field&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;ip&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;geoip:private&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;geoip:cn&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// Исключить локальную сеть и диапазоны IP-адресов Китая</span>
        <span class="token property">&quot;outboundTag&quot;</span><span class="token operator">:</span> <span class="token string">&quot;direct&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Единственное, что вам нужно изменить в приведенной выше конфигурации, - это IP-адрес вашего сервера и UUID пользователя, как указано в комментариях. Эта конфигурация будет перенаправлять весь трафик на ваш сервер, за исключением локальной сети (например, доступ к маршрутизатору) и диапазонов IP-адресов Китая (например, доступ к bilibili, acfun).</p><h2 id="запуск" tabindex="-1"><a class="header-anchor" href="#запуск"><span>Запуск</span></a></h2><ul><li>В Windows и macOS файл конфигурации обычно находится в том же каталоге, что и Xray, и называется <code>config.json</code>. <ul><li>Просто запустите <code>Xray</code> или <code>Xray.exe</code>.</li></ul></li><li>В Linux файл конфигурации обычно находится в каталоге <code>/etc/xray/</code> или <code>/usr/local/etc/xray/</code>. <ul><li>Запустите команду <code>xray run -c /etc/xray/config.json</code>.</li><li>Или используйте systemd или другой инструмент для запуска Xray как службы в фоновом режиме.</li></ul></li></ul>`,11);function b(q,y){const p=e("ExternalLinkIcon"),t=e("RouterLink");return i(),l("div",null,[d,k,s("p",null,[n("В данном руководстве мы рассмотрим только простой способ настройки. Дополнительные шаблоны: "),s("a",v,[n("Xray-examples"),a(p)])]),s("p",null,[n("Для настройки более сложных функций обратитесь к подробным инструкциям в разделе "),a(t,{to:"/ru/config/"},{default:o(()=>[n("Файл конфигурации")]),_:1}),n(".")]),m,s("p",null,[n("Более подробную информацию можно найти в "),a(t,{to:"/ru/config/"},{default:o(()=>[n("документации по конфигурации")]),_:1}),n(" и в разделе "),a(t,{to:"/ru/document/level-0/"},{default:o(()=>[n("Простыми словами")]),_:1}),n(".")])])}const h=c(r,[["render",b],["__file","config.html.vue"]]);export{h as default};
